---
name: os-and-arch-target
description: |
  Example demonstrating how to create a TTP that works for specific
  operating systems and architectures.

  This TTP also demonstrates how to create a TTP that can
  be used for specific cloud providers and regions.
targets:
  os:
    - linux
    - macos
  arch:
    - x86_64
    - arm64
  cloud:
    - provider: "aws"
      region: "us-west-1"
    - provider: "gcp"
      region: "us-west1-a"
    - provider: "azure"
      region: "eastus"

steps:
  - name: friendly-message
    inline: |
      set -e

      echo -e "You are running a TTP that works for the following operating systems: {{ .Targets.os }}"
      echo -e "and architectures: {{ .Targets.arch }}."
      echo -e "It can be used for the following cloud providers"
      echo -e "at the specified regions as well: {{ .Targets.cloud }}."
